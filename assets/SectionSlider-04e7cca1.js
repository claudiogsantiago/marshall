import{r as h,u as E,b as S,t as T,j as i,d as j,L}from"./index-e5dd79c6.js";import{g as b,n as N,S as O,a as M,N as $}from"./swiper-slide-a568fdce.js";function I({swiper:e,extendParams:f,on:u,emit:t}){let n;e.autoplay={running:!1,paused:!1},f({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function l(){if(!e.size){e.autoplay.running=!1,e.autoplay.paused=!1;return}const a=e.slides.eq(e.activeIndex);let s=e.params.autoplay.delay;a.attr("data-swiper-autoplay")&&(s=a.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(n),n=N(()=>{let r;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),r=e.slidePrev(e.params.speed,!0,!0),t("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?o():(r=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),t("autoplay")):(r=e.slidePrev(e.params.speed,!0,!0),t("autoplay")):e.params.loop?(e.loopFix(),r=e.slideNext(e.params.speed,!0,!0),t("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?o():(r=e.slideTo(0,e.params.speed,!0,!0),t("autoplay")):(r=e.slideNext(e.params.speed,!0,!0),t("autoplay")),(e.params.cssMode&&e.autoplay.running||r===!1)&&l()},s)}function v(){return typeof n<"u"||e.autoplay.running?!1:(e.autoplay.running=!0,t("autoplayStart"),l(),!0)}function o(){return!e.autoplay.running||typeof n>"u"?!1:(n&&(clearTimeout(n),n=void 0),e.autoplay.running=!1,t("autoplayStop"),!0)}function p(a){e.autoplay.running&&(e.autoplay.paused||(n&&clearTimeout(n),e.autoplay.paused=!0,a===0||!e.params.autoplay.waitForTransition?(e.autoplay.paused=!1,l()):["transitionend","webkitTransitionEnd"].forEach(s=>{e.$wrapperEl[0].addEventListener(s,d)})))}function m(){const a=b();a.visibilityState==="hidden"&&e.autoplay.running&&p(),a.visibilityState==="visible"&&e.autoplay.paused&&(l(),e.autoplay.paused=!1)}function d(a){!e||e.destroyed||!e.$wrapperEl||a.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(s=>{e.$wrapperEl[0].removeEventListener(s,d)}),e.autoplay.paused=!1,e.autoplay.running?l():o())}function x(){e.params.autoplay.disableOnInteraction?o():(t("autoplayPause"),p()),["transitionend","webkitTransitionEnd"].forEach(a=>{e.$wrapperEl[0].removeEventListener(a,d)})}function g(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,t("autoplayResume"),l())}function c(){e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",x),e.$el.on("mouseleave",g))}function y(){e.$el.off("mouseenter",x),e.$el.off("mouseleave",g)}u("init",()=>{e.params.autoplay.enabled&&(v(),b().addEventListener("visibilitychange",m),c())}),u("beforeTransitionStart",(a,s,r)=>{e.autoplay.running&&(r||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(s):o())}),u("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?o():p())}),u("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&l()}),u("destroy",()=>{y(),e.autoplay.running&&o(),b().removeEventListener("visibilitychange",m)}),Object.assign(e.autoplay,{pause:p,run:l,start:v,stop:o})}const B=[I,$];function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var f=Math.random()*16|0,u=e=="x"?f:f&3|8;return u.toString(16)})}const C=h.memo(({children:e,title:f,list:u,slidesPerView:t=6,loop:n=!1,spaceBetween:l=0,className:v="",link:o})=>{const{t:p}=E(),m=S(T),d=h.useRef(null),x=c=>{g(c)},g=c=>{if(d.current&&c){d.current.querySelectorAll(".swiper-slide").forEach(s=>s.classList.remove("last"));const y=d.current.querySelectorAll(".swiper-slide-visible"),a=y[y.length-1];setTimeout(()=>{a&&a.classList.add("swiper-active","last")},0)}};return i.jsx("div",{className:v,children:i.jsx(j,{fluid:!0,children:i.jsxs("div",{className:"overflow-hidden card-style-slider",ref:d,children:[i.jsxs("div",{className:"d-flex align-items-center justify-content-between px-3 my-4",children:[i.jsx("h5",{className:"main-title text-capitalize mb-0",children:f}),i.jsx(L,{to:o||"/view-all",className:"text-primary iq-view-all text-decoration-none",children:p("ott_home.view_all")})]}),i.jsxs(O,{dir:m,className:"position-relative swiper swiper-card",slidesPerView:t,loop:n,watchSlidesProgress:!0,spaceBetween:l,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},breakpoints:{0:{slidesPerView:2,spaceBetween:0},576:{slidesPerView:2,spaceBetween:0},768:{slidesPerView:3,spaceBetween:0},1025:{slidesPerView:t,spaceBetween:0},1500:{slidesPerView:t,spaceBetween:0}},onSwiper:x,onSlideChange:x,modules:B,children:[u.map((c,y)=>i.jsx(M,{tag:"li",children:e(c)},y+k()+"slider")),i.jsx("div",{className:"swiper-button swiper-button-next"}),i.jsx("div",{className:"swiper-button swiper-button-prev"})]},m)]})})})});C.displayName="SectionSlider";export{C as S};
